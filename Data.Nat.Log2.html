<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Log2</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Pragma">--without-K</a> <a id="25" class="Symbol">#-}</a>

<a id="30" class="Keyword">module</a> <a id="37" href="Data.Nat.Log2.html" class="Module">Data.Nat.Log2</a> <a id="51" class="Keyword">where</a>

<a id="58" class="Keyword">import</a> <a id="65" href="Data.Nat.Logarithm.html" class="Module">Data.Nat.Logarithm</a> <a id="84" class="Symbol">as</a> <a id="87" class="Module">Logarithm</a>

<a id="98" class="Keyword">open</a> <a id="103" class="Keyword">import</a> <a id="110" href="Data.Nat.html" class="Module">Data.Nat</a>
<a id="119" class="Keyword">open</a> <a id="124" class="Keyword">import</a> <a id="131" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>

<a id="152" class="Keyword">open</a> <a id="157" class="Keyword">import</a> <a id="164" href="Relation.Nullary.html" class="Module">Relation.Nullary</a>
<a id="181" class="Keyword">open</a> <a id="186" class="Keyword">import</a> <a id="193" href="Relation.Binary.html" class="Module">Relation.Binary</a>
<a id="209" class="Keyword">open</a> <a id="214" class="Keyword">import</a> <a id="221" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a> <a id="259" class="Symbol">as</a> <a id="262" class="Module">Eq</a> <a id="265" class="Keyword">using</a> <a id="271" class="Symbol">(</a><a id="272" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">_≡_</a><a id="275" class="Symbol">;</a> <a id="277" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="281" class="Symbol">)</a>

<a id="⌈log₂_⌉"></a><a id="284" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂_⌉</a> <a id="292" class="Symbol">:</a> <a id="294" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a> <a id="296" class="Symbol">→</a> <a id="298" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="300" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂_⌉</a> <a id="308" class="Symbol">=</a> <a id="310" href="Data.Nat.Logarithm.html#661" class="Function Operator">Logarithm.⌈log₂_⌉</a>

<a id="log₂-mono"></a><a id="329" href="Data.Nat.Log2.html#329" class="Function">log₂-mono</a> <a id="339" class="Symbol">:</a> <a id="341" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂_⌉</a> <a id="349" href="Relation.Binary.Core.html#1572" class="Function Operator">Preserves</a> <a id="359" href="Data.Nat.Base.html#1544" class="Datatype Operator">_≤_</a> <a id="363" href="Relation.Binary.Core.html#1572" class="Function Operator">⟶</a> <a id="365" href="Data.Nat.Base.html#1544" class="Datatype Operator">_≤_</a>
<a id="369" href="Data.Nat.Log2.html#329" class="Function">log₂-mono</a> <a id="379" class="Symbol">=</a> <a id="381" href="Data.Nat.Logarithm.html#1324" class="Function">Logarithm.⌈log₂⌉-mono-≤</a>

<a id="⌈log₂n⌉≤n"></a><a id="406" href="Data.Nat.Log2.html#406" class="Function">⌈log₂n⌉≤n</a> <a id="416" class="Symbol">:</a> <a id="418" class="Symbol">∀</a> <a id="420" href="Data.Nat.Log2.html#420" class="Bound">n</a> <a id="422" class="Symbol">→</a> <a id="424" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="430" href="Data.Nat.Log2.html#420" class="Bound">n</a> <a id="432" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a> <a id="434" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="436" href="Data.Nat.Log2.html#420" class="Bound">n</a>
<a id="438" href="Data.Nat.Log2.html#406" class="Function">⌈log₂n⌉≤n</a> <a id="448" href="Data.Nat.Log2.html#448" class="Bound">n</a> <a id="450" class="Symbol">=</a>
  <a id="454" class="Keyword">let</a> <a id="458" class="Keyword">open</a> <a id="463" href="Data.Nat.Properties.html#13869" class="Module">≤-Reasoning</a> <a id="475" class="Keyword">in</a>
  <a id="480" href="Relation.Binary.Reasoning.Base.Triple.html#3029" class="Function Operator">begin</a>
    <a id="490" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="496" href="Data.Nat.Log2.html#448" class="Bound">n</a> <a id="498" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a>
  <a id="502" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">≤⟨</a> <a id="505" href="Data.Nat.Logarithm.html#1324" class="Function">Logarithm.⌈log₂⌉-mono-≤</a> <a id="529" class="Symbol">(</a><a id="530" href="Data.Nat.Log2.html#614" class="Function">n≤2^n</a> <a id="536" href="Data.Nat.Log2.html#448" class="Bound">n</a><a id="537" class="Symbol">)</a> <a id="539" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">⟩</a>
    <a id="545" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="551" class="Symbol">(</a><a id="552" class="Number">2</a> <a id="554" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="556" href="Data.Nat.Log2.html#448" class="Bound">n</a><a id="557" class="Symbol">)</a> <a id="559" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a>
  <a id="563" href="Relation.Binary.Reasoning.Base.Triple.html#4537" class="Function">≡⟨</a> <a id="566" href="Data.Nat.Logarithm.html#1654" class="Function">Logarithm.⌈log₂2^n⌉≡n</a> <a id="588" href="Data.Nat.Log2.html#448" class="Bound">n</a> <a id="590" href="Relation.Binary.Reasoning.Base.Triple.html#4537" class="Function">⟩</a>
    <a id="596" href="Data.Nat.Log2.html#448" class="Bound">n</a>
  <a id="600" href="Relation.Binary.Reasoning.Base.Triple.html#5138" class="Function Operator">∎</a>
  <a id="604" class="Keyword">where</a>
    <a id="614" href="Data.Nat.Log2.html#614" class="Function">n≤2^n</a> <a id="620" class="Symbol">:</a> <a id="622" class="Symbol">(</a><a id="623" href="Data.Nat.Log2.html#623" class="Bound">n</a> <a id="625" class="Symbol">:</a> <a id="627" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="628" class="Symbol">)</a> <a id="630" class="Symbol">→</a> <a id="632" href="Data.Nat.Log2.html#623" class="Bound">n</a> <a id="634" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="636" class="Number">2</a> <a id="638" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="640" href="Data.Nat.Log2.html#623" class="Bound">n</a>
    <a id="646" href="Data.Nat.Log2.html#614" class="Function">n≤2^n</a> <a id="652" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a> <a id="657" class="Symbol">=</a> <a id="659" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
    <a id="667" href="Data.Nat.Log2.html#614" class="Function">n≤2^n</a> <a id="673" class="Symbol">(</a><a id="674" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="678" href="Data.Nat.Log2.html#678" class="Bound">n</a><a id="679" class="Symbol">)</a> <a id="681" class="Symbol">=</a>
      <a id="689" class="Keyword">let</a> <a id="693" class="Keyword">open</a> <a id="698" href="Data.Nat.Properties.html#13869" class="Module">≤-Reasoning</a> <a id="710" class="Keyword">in</a>
      <a id="719" href="Relation.Binary.Reasoning.Base.Triple.html#3029" class="Function Operator">begin</a>
        <a id="733" class="Number">1</a> <a id="735" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="737" href="Data.Nat.Log2.html#678" class="Bound">n</a>
      <a id="745" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">≤⟨</a> <a id="748" href="Data.Nat.Properties.html#18752" class="Function">+-mono-≤</a> <a id="757" class="Symbol">(</a><a id="758" href="Data.Nat.Properties.html#30414" class="Function">^-monoʳ-≤</a> <a id="768" class="Number">2</a> <a id="770" class="Symbol">(</a><a id="771" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a> <a id="775" class="Symbol">{</a><a id="776" href="Data.Nat.Log2.html#678" class="Bound">n</a><a id="777" class="Symbol">}))</a> <a id="781" class="Symbol">(</a><a id="782" href="Data.Nat.Log2.html#614" class="Function">n≤2^n</a> <a id="788" href="Data.Nat.Log2.html#678" class="Bound">n</a><a id="789" class="Symbol">)</a> <a id="791" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">⟩</a>
        <a id="801" class="Number">2</a> <a id="803" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="805" href="Data.Nat.Log2.html#678" class="Bound">n</a> <a id="807" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="809" class="Number">2</a> <a id="811" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="813" href="Data.Nat.Log2.html#678" class="Bound">n</a>
      <a id="821" href="Relation.Binary.Reasoning.Base.Triple.html#4889" class="Function">≡˘⟨</a> <a id="825" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">Eq.cong</a> <a id="833" class="Symbol">((</a><a id="835" class="Number">2</a> <a id="837" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="839" href="Data.Nat.Log2.html#678" class="Bound">n</a><a id="840" class="Symbol">)</a> <a id="842" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+_</a><a id="844" class="Symbol">)</a> <a id="846" class="Symbol">(</a><a id="847" href="Data.Nat.Properties.html#14609" class="Function">+-identityʳ</a> <a id="859" class="Symbol">(</a><a id="860" class="Number">2</a> <a id="862" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="864" href="Data.Nat.Log2.html#678" class="Bound">n</a><a id="865" class="Symbol">))</a> <a id="868" href="Relation.Binary.Reasoning.Base.Triple.html#4889" class="Function">⟩</a>
        <a id="878" class="Number">2</a> <a id="880" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="882" href="Data.Nat.Log2.html#678" class="Bound">n</a> <a id="884" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="886" class="Symbol">(</a><a id="887" class="Number">2</a> <a id="889" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="891" href="Data.Nat.Log2.html#678" class="Bound">n</a> <a id="893" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="895" class="Number">0</a><a id="896" class="Symbol">)</a>
      <a id="904" href="Relation.Binary.Reasoning.Base.Triple.html#5042" class="Function Operator">≡⟨⟩</a>
        <a id="916" class="Number">2</a> <a id="918" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="920" class="Number">2</a> <a id="922" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="924" href="Data.Nat.Log2.html#678" class="Bound">n</a>
      <a id="932" href="Relation.Binary.Reasoning.Base.Triple.html#5138" class="Function Operator">∎</a>

<a id="log₂-suc"></a><a id="935" href="Data.Nat.Log2.html#935" class="Function">log₂-suc</a> <a id="944" class="Symbol">:</a> <a id="946" class="Symbol">∀</a> <a id="948" href="Data.Nat.Log2.html#948" class="Bound">n</a> <a id="950" class="Symbol">{</a><a id="951" href="Data.Nat.Log2.html#951" class="Bound">k</a><a id="952" class="Symbol">}</a> <a id="954" class="Symbol">→</a> <a id="956" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="962" href="Data.Nat.Log2.html#948" class="Bound">n</a> <a id="964" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a> <a id="966" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="968" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="972" href="Data.Nat.Log2.html#951" class="Bound">k</a> <a id="974" class="Symbol">→</a> <a id="976" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="982" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="984" href="Data.Nat.Log2.html#948" class="Bound">n</a> <a id="986" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a> <a id="990" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a> <a id="992" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="994" href="Data.Nat.Log2.html#951" class="Bound">k</a>
<a id="996" href="Data.Nat.Log2.html#935" class="Function">log₂-suc</a> <a id="1005" href="Data.Nat.Log2.html#1005" class="Bound">n</a> <a id="1007" class="Symbol">{</a><a id="1008" href="Data.Nat.Log2.html#1008" class="Bound">k</a><a id="1009" class="Symbol">}</a> <a id="1011" href="Data.Nat.Log2.html#1011" class="Bound">h</a> <a id="1013" class="Symbol">=</a>
  <a id="1017" class="Keyword">let</a> <a id="1021" class="Keyword">open</a> <a id="1026" href="Data.Nat.Properties.html#13869" class="Module">≤-Reasoning</a> <a id="1038" class="Keyword">in</a>
  <a id="1043" href="Relation.Binary.Reasoning.Base.Triple.html#3029" class="Function Operator">begin</a>
    <a id="1053" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="1059" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="1061" href="Data.Nat.Log2.html#1005" class="Bound">n</a> <a id="1063" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a> <a id="1067" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a>
  <a id="1071" href="Relation.Binary.Reasoning.Base.Triple.html#4537" class="Function">≡⟨</a> <a id="1074" href="Data.Nat.Logarithm.html#1415" class="Function">Logarithm.⌈log₂⌈n/2⌉⌉≡⌈log₂n⌉∸1</a> <a id="1106" href="Data.Nat.Log2.html#1005" class="Bound">n</a> <a id="1108" href="Relation.Binary.Reasoning.Base.Triple.html#4537" class="Function">⟩</a>
    <a id="1114" href="Data.Nat.Base.html#3280" class="Function">pred</a> <a id="1119" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="1125" href="Data.Nat.Log2.html#1005" class="Bound">n</a> <a id="1127" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a>
  <a id="1131" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">≤⟨</a> <a id="1134" href="Data.Nat.Properties.html#46154" class="Function">∸-monoˡ-≤</a> <a id="1144" class="Number">1</a> <a id="1146" href="Data.Nat.Log2.html#1011" class="Bound">h</a> <a id="1148" href="Relation.Binary.Reasoning.Base.Triple.html#3764" class="Function">⟩</a>
    <a id="1154" href="Data.Nat.Log2.html#1008" class="Bound">k</a>
  <a id="1158" href="Relation.Binary.Reasoning.Base.Triple.html#5138" class="Function Operator">∎</a>

<a id="⌈log₂n⌉≡0⇒n≤1"></a><a id="1161" href="Data.Nat.Log2.html#1161" class="Function">⌈log₂n⌉≡0⇒n≤1</a> <a id="1175" class="Symbol">:</a> <a id="1177" class="Symbol">{</a><a id="1178" href="Data.Nat.Log2.html#1178" class="Bound">n</a> <a id="1180" class="Symbol">:</a> <a id="1182" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a><a id="1183" class="Symbol">}</a> <a id="1185" class="Symbol">→</a> <a id="1187" href="Data.Nat.Log2.html#284" class="Function Operator">⌈log₂</a> <a id="1193" href="Data.Nat.Log2.html#1178" class="Bound">n</a> <a id="1195" href="Data.Nat.Log2.html#284" class="Function Operator">⌉</a> <a id="1197" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1199" class="Number">0</a> <a id="1201" class="Symbol">→</a> <a id="1203" href="Data.Nat.Log2.html#1178" class="Bound">n</a> <a id="1205" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="1207" class="Number">1</a>
<a id="1209" href="Data.Nat.Log2.html#1161" class="Function">⌈log₂n⌉≡0⇒n≤1</a> <a id="1223" class="Symbol">{</a><a id="1224" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1228" class="Symbol">}</a> <a id="1230" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1235" class="Symbol">=</a> <a id="1237" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="1241" href="Data.Nat.Log2.html#1161" class="Function">⌈log₂n⌉≡0⇒n≤1</a> <a id="1255" class="Symbol">{</a><a id="1256" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1260" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="1264" class="Symbol">}</a> <a id="1266" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1271" class="Symbol">=</a> <a id="1273" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1277" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
</pre></body></html>