<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Data.Nat.Logarithm.Core</title><link rel="stylesheet" href="Agda.css"></head><body><pre class="Agda"><a id="1" class="Comment">-----------------------------------------------------------------------</a>
<a id="73" class="Comment">-- The Agda standard library</a>
<a id="102" class="Comment">--</a>
<a id="105" class="Comment">-- Logarithm base 2 core definitions and properties</a>
<a id="157" class="Comment">------------------------------------------------------------------------</a>

<a id="231" class="Symbol">{-#</a> <a id="235" class="Keyword">OPTIONS</a> <a id="243" class="Pragma">--cubical-compatible</a> <a id="264" class="Pragma">--safe</a> <a id="271" class="Symbol">#-}</a>

<a id="276" class="Keyword">module</a> <a id="283" href="Data.Nat.Logarithm.Core.html" class="Module">Data.Nat.Logarithm.Core</a> <a id="307" class="Keyword">where</a>

<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Data.Nat.Base.html" class="Module">Data.Nat.Base</a>
<a id="340" class="Keyword">open</a> <a id="345" class="Keyword">import</a> <a id="352" href="Data.Nat.Properties.html" class="Module">Data.Nat.Properties</a>
<a id="372" class="Keyword">open</a> <a id="377" class="Keyword">import</a> <a id="384" href="Data.Nat.Induction.html" class="Module">Data.Nat.Induction</a> <a id="403" class="Keyword">using</a> <a id="409" class="Symbol">(</a><a id="410" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a><a id="423" class="Symbol">)</a>
<a id="425" class="Keyword">open</a> <a id="430" class="Keyword">import</a> <a id="437" href="Induction.WellFounded.html" class="Module">Induction.WellFounded</a> <a id="459" class="Keyword">using</a> <a id="465" class="Symbol">(</a><a id="466" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a><a id="469" class="Symbol">;</a> <a id="471" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a><a id="474" class="Symbol">)</a>
<a id="476" class="Keyword">open</a> <a id="481" class="Keyword">import</a> <a id="488" href="Relation.Binary.PropositionalEquality.html" class="Module">Relation.Binary.PropositionalEquality</a>
<a id="526" class="Keyword">open</a> <a id="531" class="Keyword">import</a> <a id="538" href="Data.Unit.html" class="Module">Data.Unit</a>

<a id="549" class="Comment">------------------------------------------------------------------------</a>
<a id="622" class="Comment">-- Logarithm base 2</a>

<a id="643" class="Comment">-- Floor version</a>

<a id="⌊log2⌋"></a><a id="661" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="668" class="Symbol">:</a> <a id="670" class="Symbol">∀</a> <a id="672" href="Data.Nat.Logarithm.Core.html#672" class="Bound">n</a> <a id="674" class="Symbol">→</a> <a id="676" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a> <a id="680" href="Data.Nat.Base.html#1654" class="Function Operator">_&lt;_</a> <a id="684" href="Data.Nat.Logarithm.Core.html#672" class="Bound">n</a> <a id="686" class="Symbol">→</a> <a id="688" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="690" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="697" class="Number">0</a>          <a id="708" class="Symbol">_</a>        <a id="717" class="Symbol">=</a> <a id="719" class="Number">0</a>
<a id="721" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="728" class="Number">1</a>          <a id="739" class="Symbol">_</a>        <a id="748" class="Symbol">=</a> <a id="750" class="Number">0</a>
<a id="752" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="759" class="Symbol">(</a><a id="760" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="764" href="Data.Nat.Logarithm.Core.html#764" class="Bound">n′</a><a id="766" class="Symbol">@(</a><a id="768" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="772" href="Data.Nat.Logarithm.Core.html#772" class="Bound">n</a><a id="773" class="Symbol">))</a> <a id="776" class="Symbol">(</a><a id="777" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="781" href="Data.Nat.Logarithm.Core.html#781" class="Bound">rs</a><a id="783" class="Symbol">)</a> <a id="785" class="Symbol">=</a> <a id="787" class="Number">1</a> <a id="789" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="791" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="798" class="Symbol">(</a><a id="799" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="803" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="805" href="Data.Nat.Logarithm.Core.html#772" class="Bound">n</a> <a id="807" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="810" class="Symbol">)</a> <a id="812" class="Symbol">(</a><a id="813" href="Data.Nat.Logarithm.Core.html#781" class="Bound">rs</a> <a id="816" class="Symbol">_</a> <a id="818" class="Symbol">(</a><a id="819" href="Data.Nat.Properties.html#60126" class="Function">⌊n/2⌋&lt;n</a> <a id="827" href="Data.Nat.Logarithm.Core.html#764" class="Bound">n′</a><a id="829" class="Symbol">))</a>


<a id="834" class="Comment">-- Ceil version</a>

<a id="⌈log2⌉"></a><a id="851" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="858" class="Symbol">:</a> <a id="860" class="Symbol">∀</a> <a id="862" href="Data.Nat.Logarithm.Core.html#862" class="Bound">n</a> <a id="864" class="Symbol">→</a> <a id="866" href="Induction.WellFounded.html#1009" class="Datatype">Acc</a> <a id="870" href="Data.Nat.Base.html#1654" class="Function Operator">_&lt;_</a> <a id="874" href="Data.Nat.Logarithm.Core.html#862" class="Bound">n</a> <a id="876" class="Symbol">→</a> <a id="878" href="Agda.Builtin.Nat.html#186" class="Datatype">ℕ</a>
<a id="880" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="887" class="Number">0</a>                <a id="904" class="Symbol">_</a>        <a id="913" class="Symbol">=</a> <a id="915" class="Number">0</a>
<a id="917" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="924" class="Number">1</a>                <a id="941" class="Symbol">_</a>        <a id="950" class="Symbol">=</a> <a id="952" class="Number">0</a>
<a id="954" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="961" class="Symbol">(</a><a id="962" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="966" class="Symbol">(</a><a id="967" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="971" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a><a id="972" class="Symbol">))</a> <a id="975" class="Symbol">(</a><a id="976" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="980" href="Data.Nat.Logarithm.Core.html#980" class="Bound">rs</a><a id="982" class="Symbol">)</a> <a id="984" class="Symbol">=</a> <a id="986" class="Number">1</a> <a id="988" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="990" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="997" class="Symbol">(</a><a id="998" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1002" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="1004" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a> <a id="1006" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="1009" class="Symbol">)</a> <a id="1011" class="Symbol">(</a><a id="1012" href="Data.Nat.Logarithm.Core.html#980" class="Bound">rs</a> <a id="1015" class="Symbol">_</a> <a id="1017" class="Symbol">(</a><a id="1018" href="Data.Nat.Properties.html#60501" class="Function">⌈n/2⌉&lt;n</a> <a id="1026" href="Data.Nat.Logarithm.Core.html#971" class="Bound">n</a><a id="1027" class="Symbol">))</a>

<a id="1031" class="Comment">------------------------------------------------------------------------</a>
<a id="1104" class="Comment">-- Properties of ⌊log2⌋</a>

<a id="⌊log2⌋-acc-irrelevant"></a><a id="1129" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1151" class="Symbol">:</a> <a id="1153" class="Symbol">∀</a> <a id="1155" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1157" class="Symbol">{</a><a id="1158" href="Data.Nat.Logarithm.Core.html#1158" class="Bound">acc</a> <a id="1162" href="Data.Nat.Logarithm.Core.html#1162" class="Bound">acc&#39;</a><a id="1166" class="Symbol">}</a> <a id="1168" class="Symbol">→</a> <a id="1170" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1177" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1179" href="Data.Nat.Logarithm.Core.html#1158" class="Bound">acc</a> <a id="1183" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1185" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1192" href="Data.Nat.Logarithm.Core.html#1155" class="Bound">a</a> <a id="1194" href="Data.Nat.Logarithm.Core.html#1162" class="Bound">acc&#39;</a>
<a id="1199" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1221" class="Number">0</a>            <a id="1234" class="Symbol">{_}</a>      <a id="1243" class="Symbol">{_}</a>       <a id="1253" class="Symbol">=</a> <a id="1255" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1260" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1282" class="Number">1</a>            <a id="1295" class="Symbol">{_}</a>      <a id="1304" class="Symbol">{_}</a>       <a id="1314" class="Symbol">=</a> <a id="1316" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="1321" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1343" class="Symbol">(</a><a id="1344" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1348" class="Symbol">(</a><a id="1349" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1353" href="Data.Nat.Logarithm.Core.html#1353" class="Bound">n</a><a id="1354" class="Symbol">))</a> <a id="1357" class="Symbol">{</a><a id="1358" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1362" href="Data.Nat.Logarithm.Core.html#1362" class="Bound">rs</a><a id="1364" class="Symbol">}</a> <a id="1366" class="Symbol">{</a><a id="1367" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1371" href="Data.Nat.Logarithm.Core.html#1371" class="Bound">rs&#39;</a><a id="1374" class="Symbol">}</a> <a id="1376" class="Symbol">=</a>
  <a id="1380" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="1385" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1389" class="Symbol">(</a><a id="1390" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1412" class="Symbol">(</a><a id="1413" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="1417" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="1419" href="Data.Nat.Logarithm.Core.html#1353" class="Bound">n</a> <a id="1421" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="1424" class="Symbol">))</a>

<a id="⌊log2⌋-cong-irr"></a><a id="1428" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="1444" class="Symbol">:</a> <a id="1446" class="Symbol">∀</a> <a id="1448" class="Symbol">{</a><a id="1449" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1451" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a><a id="1452" class="Symbol">}</a> <a id="1454" class="Symbol">{</a><a id="1455" href="Data.Nat.Logarithm.Core.html#1455" class="Bound">acc</a> <a id="1459" href="Data.Nat.Logarithm.Core.html#1459" class="Bound">acc&#39;</a><a id="1463" class="Symbol">}</a> <a id="1465" class="Symbol">→</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Data.Nat.Logarithm.Core.html#1468" class="Bound">p</a> <a id="1470" class="Symbol">:</a> <a id="1472" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1474" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1476" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">→</a>
                <a id="1497" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1504" href="Data.Nat.Logarithm.Core.html#1449" class="Bound">a</a> <a id="1506" href="Data.Nat.Logarithm.Core.html#1455" class="Bound">acc</a> <a id="1510" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1512" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1519" href="Data.Nat.Logarithm.Core.html#1451" class="Bound">b</a> <a id="1521" href="Data.Nat.Logarithm.Core.html#1459" class="Bound">acc&#39;</a>
<a id="1526" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="1542" class="Symbol">{</a><a id="1543" class="Argument">acc</a> <a id="1547" class="Symbol">=</a> <a id="1549" href="Data.Nat.Logarithm.Core.html#1549" class="Bound">ac</a><a id="1551" class="Symbol">}</a> <a id="1553" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="1558" class="Symbol">=</a> <a id="1560" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="1582" class="Symbol">_</a> <a id="1584" class="Symbol">{</a><a id="1585" href="Data.Nat.Logarithm.Core.html#1549" class="Bound">ac</a><a id="1587" class="Symbol">}</a>

<a id="⌊log2⌋-mono-≤"></a><a id="1590" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1604" class="Symbol">:</a> <a id="1606" class="Symbol">∀</a> <a id="1608" class="Symbol">{</a><a id="1609" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1611" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a><a id="1612" class="Symbol">}</a> <a id="1614" class="Symbol">{</a><a id="1615" href="Data.Nat.Logarithm.Core.html#1615" class="Bound">acc</a> <a id="1619" href="Data.Nat.Logarithm.Core.html#1619" class="Bound">acc&#39;</a><a id="1623" class="Symbol">}</a> <a id="1625" class="Symbol">→</a> <a id="1627" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1629" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="1631" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a> <a id="1633" class="Symbol">→</a> <a id="1635" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1642" href="Data.Nat.Logarithm.Core.html#1609" class="Bound">a</a> <a id="1644" href="Data.Nat.Logarithm.Core.html#1615" class="Bound">acc</a> <a id="1648" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="1650" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1657" href="Data.Nat.Logarithm.Core.html#1611" class="Bound">b</a> <a id="1659" href="Data.Nat.Logarithm.Core.html#1619" class="Bound">acc&#39;</a>
<a id="1664" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1678" class="Symbol">{_}</a>           <a id="1692" class="Symbol">{_}</a>     <a id="1700" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>       <a id="1710" class="Symbol">=</a> <a id="1712" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="1716" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1730" class="Symbol">{_}</a>           <a id="1744" class="Symbol">{_}</a>     <a id="1752" class="Symbol">(</a><a id="1753" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1757" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a><a id="1760" class="Symbol">)</a> <a id="1762" class="Symbol">=</a> <a id="1764" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="1768" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1782" class="Symbol">{</a><a id="1783" class="Argument">acc</a> <a id="1787" class="Symbol">=</a> <a id="1789" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1793" class="Symbol">_}</a> <a id="1796" class="Symbol">{</a><a id="1797" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="1801" class="Symbol">_}</a> <a id="1804" class="Symbol">(</a><a id="1805" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1809" class="Symbol">(</a><a id="1810" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1814" href="Data.Nat.Logarithm.Core.html#1814" class="Bound">p</a><a id="1815" class="Symbol">))</a> <a id="1818" class="Symbol">=</a>
  <a id="1822" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="1826" class="Symbol">(</a><a id="1827" href="Data.Nat.Logarithm.Core.html#1590" class="Function">⌊log2⌋-mono-≤</a> <a id="1841" class="Symbol">(</a><a id="1842" href="Data.Nat.Properties.html#59295" class="Function">⌊n/2⌋-mono</a> <a id="1853" class="Symbol">(</a><a id="1854" href="Data.Nat.Properties.html#18998" class="Function">+-monoʳ-≤</a> <a id="1864" class="Number">2</a> <a id="1866" href="Data.Nat.Logarithm.Core.html#1814" class="Bound">p</a><a id="1867" class="Symbol">)))</a>

<a id="⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1"></a><a id="1872" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="1894" class="Symbol">:</a> <a id="1896" class="Symbol">∀</a> <a id="1898" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1900" class="Symbol">{</a><a id="1901" href="Data.Nat.Logarithm.Core.html#1901" class="Bound">acc</a><a id="1904" class="Symbol">}</a> <a id="1906" class="Symbol">{</a><a id="1907" href="Data.Nat.Logarithm.Core.html#1907" class="Bound">acc&#39;</a><a id="1911" class="Symbol">}</a> <a id="1913" class="Symbol">→</a>
                        <a id="1939" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1946" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="1948" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1950" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a> <a id="1954" href="Data.Nat.Logarithm.Core.html#1901" class="Bound">acc</a> <a id="1958" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="1960" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="1967" href="Data.Nat.Logarithm.Core.html#1898" class="Bound">n</a> <a id="1969" href="Data.Nat.Logarithm.Core.html#1907" class="Bound">acc&#39;</a> <a id="1974" href="Data.Nat.Base.html#3211" class="Primitive Operator">∸</a> <a id="1976" class="Number">1</a>
<a id="1978" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2000" class="Number">0</a>             <a id="2014" class="Symbol">{_}</a>      <a id="2023" class="Symbol">{_}</a>       <a id="2033" class="Symbol">=</a> <a id="2035" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2040" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2062" class="Number">1</a>             <a id="2076" class="Symbol">{_}</a>      <a id="2085" class="Symbol">{_}</a>       <a id="2095" class="Symbol">=</a> <a id="2097" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2102" href="Data.Nat.Logarithm.Core.html#1872" class="Function">⌊log2⌋⌊n/2⌋≡⌊log2⌋n∸1</a> <a id="2124" class="Symbol">(</a><a id="2125" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2129" class="Symbol">(</a><a id="2130" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2134" href="Data.Nat.Logarithm.Core.html#2134" class="Bound">n</a><a id="2135" class="Symbol">))</a> <a id="2138" class="Symbol">{</a><a id="2139" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="2143" href="Data.Nat.Logarithm.Core.html#2143" class="Bound">rs</a><a id="2145" class="Symbol">}</a> <a id="2147" class="Symbol">{</a><a id="2148" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="2152" href="Data.Nat.Logarithm.Core.html#2152" class="Bound">rs&#39;</a><a id="2155" class="Symbol">}</a> <a id="2157" class="Symbol">=</a>
  <a id="2161" href="Data.Nat.Logarithm.Core.html#1129" class="Function">⌊log2⌋-acc-irrelevant</a> <a id="2183" class="Symbol">(</a><a id="2184" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2188" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2190" href="Data.Nat.Logarithm.Core.html#2134" class="Bound">n</a> <a id="2192" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2195" class="Symbol">)</a>

<a id="⌊log2⌋2*b≡1+⌊log2⌋b"></a><a id="2198" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="2218" class="Symbol">:</a> <a id="2220" class="Symbol">∀</a> <a id="2222" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a> <a id="2224" class="Symbol">{</a><a id="2225" href="Data.Nat.Logarithm.Core.html#2225" class="Bound">acc</a> <a id="2229" href="Data.Nat.Logarithm.Core.html#2229" class="Bound">acc&#39;</a><a id="2233" class="Symbol">}</a> <a id="2235" class="Symbol">.{{</a> <a id="2239" href="Data.Nat.Logarithm.Core.html#2239" class="Bound">_</a> <a id="2241" class="Symbol">:</a> <a id="2243" href="Data.Nat.Base.html#2570" class="Record">NonZero</a> <a id="2251" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a><a id="2252" class="Symbol">}}</a> <a id="2255" class="Symbol">→</a>
                      <a id="2279" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2286" class="Symbol">(</a><a id="2287" class="Number">2</a> <a id="2289" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="2291" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a><a id="2292" class="Symbol">)</a> <a id="2294" href="Data.Nat.Logarithm.Core.html#2225" class="Bound">acc</a> <a id="2298" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2300" class="Number">1</a> <a id="2302" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2304" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2311" href="Data.Nat.Logarithm.Core.html#2222" class="Bound">n</a> <a id="2313" href="Data.Nat.Logarithm.Core.html#2229" class="Bound">acc&#39;</a>
<a id="2318" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="2338" class="Symbol">(</a><a id="2339" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2343" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2344" class="Symbol">)</a> <a id="2346" class="Symbol">=</a> <a id="2348" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="2356" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2363" class="Symbol">(</a><a id="2364" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2368" class="Symbol">(</a><a id="2369" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2371" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2373" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2377" class="Symbol">(</a><a id="2378" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2380" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2382" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="2386" class="Symbol">)))</a> <a id="2390" class="Symbol">_</a>              <a id="2405" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2408" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2424" class="Symbol">(</a><a id="2425" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2430" class="Symbol">(λ</a> <a id="2433" href="Data.Nat.Logarithm.Core.html#2433" class="Bound">x</a> <a id="2435" class="Symbol">→</a> <a id="2437" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2441" class="Symbol">(</a><a id="2442" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2444" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2446" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2450" href="Data.Nat.Logarithm.Core.html#2433" class="Bound">x</a><a id="2451" class="Symbol">))</a> <a id="2454" class="Symbol">(</a><a id="2455" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="2462" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2464" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="2468" class="Symbol">))</a> <a id="2471" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2475" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2482" class="Symbol">(</a><a id="2483" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2487" class="Symbol">(</a><a id="2488" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2490" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2492" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2496" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2497" class="Symbol">))</a> <a id="2500" class="Symbol">(</a><a id="2501" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2515" class="Symbol">_)</a>       <a id="2524" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2527" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2543" class="Symbol">{</a><a id="2544" class="Argument">acc&#39;</a> <a id="2549" class="Symbol">=</a> <a id="2551" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2565" class="Symbol">_}</a> <a id="2568" class="Symbol">(</a><a id="2569" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2574" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2578" class="Symbol">(</a><a id="2579" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="2586" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2588" class="Symbol">(</a><a id="2589" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2593" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2594" class="Symbol">)))</a> <a id="2598" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2602" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2609" class="Symbol">(</a><a id="2610" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2614" class="Symbol">(</a><a id="2615" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2619" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2621" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2623" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2624" class="Symbol">))</a> <a id="2627" class="Symbol">(</a><a id="2628" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2642" class="Symbol">_)</a>       <a id="2651" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2654" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2659" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2663" class="Symbol">(</a><a id="2664" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2680" class="Symbol">{</a><a id="2681" class="Argument">a</a> <a id="2683" class="Symbol">=</a> <a id="2685" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2689" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2691" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2693" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2695" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2697" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2700" class="Symbol">}</a> <a id="2702" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="2706" class="Symbol">)</a> <a id="2708" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2712" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2716" class="Symbol">(</a><a id="2717" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2724" class="Symbol">(</a><a id="2725" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2729" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="2731" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2733" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="2735" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a> <a id="2737" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="2740" class="Symbol">)</a> <a id="2742" class="Symbol">(</a><a id="2743" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="2757" class="Symbol">_))</a> <a id="2761" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="2764" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2769" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2773" class="Symbol">(</a><a id="2774" href="Data.Nat.Logarithm.Core.html#1428" class="Function">⌊log2⌋-cong-irr</a> <a id="2790" class="Symbol">(</a><a id="2791" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="2796" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2800" class="Symbol">(</a><a id="2801" href="Relation.Binary.PropositionalEquality.Core.html#1707" class="Function">sym</a> <a id="2805" class="Symbol">(</a><a id="2806" href="Data.Nat.Properties.html#60225" class="Function">n≡⌊n+n/2⌋</a> <a id="2816" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2817" class="Symbol">))))</a> <a id="2822" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="2826" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2830" class="Symbol">(</a><a id="2831" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2838" class="Symbol">(</a><a id="2839" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2843" href="Data.Nat.Logarithm.Core.html#2343" class="Bound">n</a><a id="2844" class="Symbol">)</a> <a id="2846" class="Symbol">_)</a>                           <a id="2875" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="2879" class="Keyword">where</a> <a id="2885" class="Keyword">open</a> <a id="2890" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="⌊log2⌋2^n≡n"></a><a id="2903" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2915" class="Symbol">:</a> <a id="2917" class="Symbol">∀</a> <a id="2919" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a> <a id="2921" class="Symbol">{</a><a id="2922" href="Data.Nat.Logarithm.Core.html#2922" class="Bound">acc</a><a id="2925" class="Symbol">}</a> <a id="2927" class="Symbol">→</a> <a id="2929" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="2936" class="Symbol">(</a><a id="2937" class="Number">2</a> <a id="2939" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="2941" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a><a id="2942" class="Symbol">)</a> <a id="2944" href="Data.Nat.Logarithm.Core.html#2922" class="Bound">acc</a> <a id="2948" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="2950" href="Data.Nat.Logarithm.Core.html#2919" class="Bound">n</a>
<a id="2952" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2964" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="2972" class="Symbol">=</a> <a id="2974" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="2979" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="2991" class="Symbol">(</a><a id="2992" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="2996" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="2997" class="Symbol">)</a> <a id="2999" class="Symbol">=</a> <a id="3001" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="3009" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="3016" class="Symbol">((</a><a id="3018" class="Number">2</a> <a id="3020" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3022" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3023" class="Symbol">)</a> <a id="3025" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3027" class="Symbol">((</a><a id="3029" class="Number">2</a> <a id="3031" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3033" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3034" class="Symbol">)</a> <a id="3036" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3038" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="3042" class="Symbol">))</a> <a id="3045" class="Symbol">_</a> <a id="3047" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="3050" href="Data.Nat.Logarithm.Core.html#2198" class="Function">⌊log2⌋2*b≡1+⌊log2⌋b</a> <a id="3070" class="Symbol">(</a><a id="3071" class="Number">2</a> <a id="3073" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3075" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3076" class="Symbol">)</a> <a id="3078" class="Symbol">{{</a><a id="3080" href="Data.Nat.Properties.html#30085" class="Function">m^n≢0</a> <a id="3086" class="Number">2</a> <a id="3088" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3089" class="Symbol">}}</a> <a id="3092" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="3096" class="Number">1</a> <a id="3098" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="3100" href="Data.Nat.Logarithm.Core.html#661" class="Function">⌊log2⌋</a> <a id="3107" class="Symbol">(</a><a id="3108" class="Number">2</a> <a id="3110" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="3112" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3113" class="Symbol">)</a> <a id="3115" class="Symbol">(</a><a id="3116" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="3130" class="Symbol">_)</a>  <a id="3134" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="3137" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="3142" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3146" class="Symbol">(</a><a id="3147" href="Data.Nat.Logarithm.Core.html#2903" class="Function">⌊log2⌋2^n≡n</a> <a id="3159" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a><a id="3160" class="Symbol">)</a> <a id="3162" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="3166" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3170" href="Data.Nat.Logarithm.Core.html#2996" class="Bound">n</a>                                 <a id="3204" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="3208" class="Keyword">where</a> <a id="3214" class="Keyword">open</a> <a id="3219" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="3232" class="Comment">------------------------------------------------------------------------</a>
<a id="3305" class="Comment">-- Properties of ⌈log2⌉</a>

<a id="⌈log2⌉-acc-irrelevant"></a><a id="3330" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3352" class="Symbol">:</a> <a id="3354" class="Symbol">∀</a> <a id="3356" href="Data.Nat.Logarithm.Core.html#3356" class="Bound">n</a> <a id="3358" class="Symbol">{</a><a id="3359" href="Data.Nat.Logarithm.Core.html#3359" class="Bound">acc</a> <a id="3363" href="Data.Nat.Logarithm.Core.html#3363" class="Bound">acc&#39;</a><a id="3367" class="Symbol">}</a> <a id="3369" class="Symbol">→</a> <a id="3371" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3378" href="Data.Nat.Logarithm.Core.html#3356" class="Bound">n</a> <a id="3380" href="Data.Nat.Logarithm.Core.html#3359" class="Bound">acc</a> <a id="3384" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3386" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3393" href="Data.Nat.Logarithm.Core.html#3356" class="Bound">n</a> <a id="3395" href="Data.Nat.Logarithm.Core.html#3363" class="Bound">acc&#39;</a>
<a id="3400" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3422" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>          <a id="3436" class="Symbol">{</a><a id="3437" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3441" href="Data.Nat.Logarithm.Core.html#3441" class="Bound">rs</a><a id="3443" class="Symbol">}</a> <a id="3445" class="Symbol">{</a><a id="3446" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3450" href="Data.Nat.Logarithm.Core.html#3450" class="Bound">rs₁</a><a id="3453" class="Symbol">}</a> <a id="3455" class="Symbol">=</a> <a id="3457" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3462" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3484" class="Symbol">(</a><a id="3485" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3489" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="3493" class="Symbol">)</a>    <a id="3498" class="Symbol">{</a><a id="3499" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3503" href="Data.Nat.Logarithm.Core.html#3503" class="Bound">rs</a><a id="3505" class="Symbol">}</a> <a id="3507" class="Symbol">{</a><a id="3508" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3512" href="Data.Nat.Logarithm.Core.html#3512" class="Bound">rs₁</a><a id="3515" class="Symbol">}</a> <a id="3517" class="Symbol">=</a> <a id="3519" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="3524" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3546" class="Symbol">(</a><a id="3547" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3551" class="Symbol">(</a><a id="3552" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3556" href="Data.Nat.Logarithm.Core.html#3556" class="Bound">n</a><a id="3557" class="Symbol">))</a> <a id="3560" class="Symbol">{</a><a id="3561" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3565" href="Data.Nat.Logarithm.Core.html#3565" class="Bound">rs</a><a id="3567" class="Symbol">}</a> <a id="3569" class="Symbol">{</a><a id="3570" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="3574" href="Data.Nat.Logarithm.Core.html#3574" class="Bound">rs&#39;</a><a id="3577" class="Symbol">}</a> <a id="3579" class="Symbol">=</a>
  <a id="3583" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="3588" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3592" class="Symbol">(</a><a id="3593" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3615" class="Symbol">(</a><a id="3616" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3620" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="3622" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="3626" href="Data.Nat.Logarithm.Core.html#3556" class="Bound">n</a> <a id="3628" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="3631" class="Symbol">))</a>

<a id="⌈log2⌉-cong-irr"></a><a id="3635" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="3651" class="Symbol">:</a> <a id="3653" class="Symbol">∀</a> <a id="3655" class="Symbol">{</a><a id="3656" href="Data.Nat.Logarithm.Core.html#3656" class="Bound">m</a> <a id="3658" href="Data.Nat.Logarithm.Core.html#3658" class="Bound">n</a><a id="3659" class="Symbol">}</a> <a id="3661" class="Symbol">{</a><a id="3662" href="Data.Nat.Logarithm.Core.html#3662" class="Bound">acc</a> <a id="3666" href="Data.Nat.Logarithm.Core.html#3666" class="Bound">acc&#39;</a><a id="3670" class="Symbol">}</a> <a id="3672" class="Symbol">→</a> <a id="3674" class="Symbol">(</a><a id="3675" href="Data.Nat.Logarithm.Core.html#3675" class="Bound">_</a> <a id="3677" class="Symbol">:</a> <a id="3679" href="Data.Nat.Logarithm.Core.html#3656" class="Bound">m</a> <a id="3681" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3683" href="Data.Nat.Logarithm.Core.html#3658" class="Bound">n</a><a id="3684" class="Symbol">)</a> <a id="3686" class="Symbol">→</a>
                  <a id="3706" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3713" href="Data.Nat.Logarithm.Core.html#3656" class="Bound">m</a> <a id="3715" href="Data.Nat.Logarithm.Core.html#3662" class="Bound">acc</a> <a id="3719" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="3721" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3728" href="Data.Nat.Logarithm.Core.html#3658" class="Bound">n</a> <a id="3730" href="Data.Nat.Logarithm.Core.html#3666" class="Bound">acc&#39;</a>
<a id="3735" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="3751" class="Symbol">{</a><a id="3752" class="Argument">acc</a> <a id="3756" class="Symbol">=</a> <a id="3758" href="Data.Nat.Logarithm.Core.html#3758" class="Bound">ac</a><a id="3760" class="Symbol">}</a> <a id="3762" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a> <a id="3767" class="Symbol">=</a> <a id="3769" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="3791" class="Symbol">_</a> <a id="3793" class="Symbol">{</a><a id="3794" href="Data.Nat.Logarithm.Core.html#3758" class="Bound">ac</a><a id="3796" class="Symbol">}</a>

<a id="⌈log2⌉-mono-≤"></a><a id="3799" href="Data.Nat.Logarithm.Core.html#3799" class="Function">⌈log2⌉-mono-≤</a> <a id="3813" class="Symbol">:</a> <a id="3815" class="Symbol">∀</a> <a id="3817" class="Symbol">{</a><a id="3818" href="Data.Nat.Logarithm.Core.html#3818" class="Bound">m</a> <a id="3820" href="Data.Nat.Logarithm.Core.html#3820" class="Bound">n</a><a id="3821" class="Symbol">}</a> <a id="3823" class="Symbol">{</a><a id="3824" href="Data.Nat.Logarithm.Core.html#3824" class="Bound">acc</a> <a id="3828" href="Data.Nat.Logarithm.Core.html#3828" class="Bound">acc&#39;</a><a id="3832" class="Symbol">}</a> <a id="3834" class="Symbol">→</a> <a id="3836" href="Data.Nat.Logarithm.Core.html#3818" class="Bound">m</a> <a id="3838" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="3840" href="Data.Nat.Logarithm.Core.html#3820" class="Bound">n</a> <a id="3842" class="Symbol">→</a> <a id="3844" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3851" href="Data.Nat.Logarithm.Core.html#3818" class="Bound">m</a> <a id="3853" href="Data.Nat.Logarithm.Core.html#3824" class="Bound">acc</a> <a id="3857" href="Data.Nat.Base.html#1544" class="Datatype Operator">≤</a> <a id="3859" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="3866" href="Data.Nat.Logarithm.Core.html#3820" class="Bound">n</a> <a id="3868" href="Data.Nat.Logarithm.Core.html#3828" class="Bound">acc&#39;</a>
<a id="3873" href="Data.Nat.Logarithm.Core.html#3799" class="Function">⌈log2⌉-mono-≤</a> <a id="3887" class="Symbol">{_}</a>            <a id="3902" class="Symbol">{_}</a>       <a id="3912" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>           <a id="3926" class="Symbol">=</a> <a id="3928" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="3932" href="Data.Nat.Logarithm.Core.html#3799" class="Function">⌈log2⌉-mono-≤</a> <a id="3946" class="Symbol">{_}</a>            <a id="3961" class="Symbol">{_}</a>       <a id="3971" class="Symbol">(</a><a id="3972" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="3976" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a><a id="3979" class="Symbol">)</a>     <a id="3985" class="Symbol">=</a> <a id="3987" href="Data.Nat.Base.html#1567" class="InductiveConstructor">z≤n</a>
<a id="3991" href="Data.Nat.Logarithm.Core.html#3799" class="Function">⌈log2⌉-mono-≤</a> <a id="4005" class="Symbol">{</a><a id="4006" class="Argument">acc</a> <a id="4010" class="Symbol">=</a> <a id="4012" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4016" href="Data.Nat.Logarithm.Core.html#4016" class="Bound">rs</a><a id="4018" class="Symbol">}</a> <a id="4020" class="Symbol">{</a><a id="4021" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4025" href="Data.Nat.Logarithm.Core.html#4025" class="Bound">rs&#39;</a><a id="4028" class="Symbol">}</a> <a id="4030" class="Symbol">(</a><a id="4031" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4035" class="Symbol">(</a><a id="4036" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4040" href="Data.Nat.Logarithm.Core.html#4040" class="Bound">p</a><a id="4041" class="Symbol">))</a> <a id="4044" class="Symbol">=</a>
  <a id="4048" href="Data.Nat.Base.html#1609" class="InductiveConstructor">s≤s</a> <a id="4052" class="Symbol">(</a><a id="4053" href="Data.Nat.Logarithm.Core.html#3799" class="Function">⌈log2⌉-mono-≤</a> <a id="4067" class="Symbol">(</a><a id="4068" href="Data.Nat.Properties.html#59451" class="Function">⌈n/2⌉-mono</a> <a id="4079" class="Symbol">(</a><a id="4080" href="Data.Nat.Properties.html#18998" class="Function">+-monoʳ-≤</a> <a id="4090" class="Number">2</a> <a id="4092" href="Data.Nat.Logarithm.Core.html#4040" class="Bound">p</a><a id="4093" class="Symbol">)))</a>

<a id="⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1"></a><a id="4098" href="Data.Nat.Logarithm.Core.html#4098" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4120" class="Symbol">:</a> <a id="4122" class="Symbol">∀</a> <a id="4124" href="Data.Nat.Logarithm.Core.html#4124" class="Bound">n</a> <a id="4126" class="Symbol">{</a><a id="4127" href="Data.Nat.Logarithm.Core.html#4127" class="Bound">acc</a><a id="4130" class="Symbol">}</a> <a id="4132" class="Symbol">{</a><a id="4133" href="Data.Nat.Logarithm.Core.html#4133" class="Bound">acc&#39;</a><a id="4137" class="Symbol">}</a> <a id="4139" class="Symbol">→</a>
                        <a id="4165" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4172" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4174" href="Data.Nat.Logarithm.Core.html#4124" class="Bound">n</a> <a id="4176" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a> <a id="4180" href="Data.Nat.Logarithm.Core.html#4127" class="Bound">acc</a> <a id="4184" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4186" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4193" href="Data.Nat.Logarithm.Core.html#4124" class="Bound">n</a> <a id="4195" href="Data.Nat.Logarithm.Core.html#4133" class="Bound">acc&#39;</a> <a id="4200" href="Data.Nat.Base.html#3211" class="Primitive Operator">∸</a> <a id="4202" class="Number">1</a>
<a id="4204" href="Data.Nat.Logarithm.Core.html#4098" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4226" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>          <a id="4240" class="Symbol">{_}</a>      <a id="4249" class="Symbol">{_}</a>       <a id="4259" class="Symbol">=</a> <a id="4261" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4266" href="Data.Nat.Logarithm.Core.html#4098" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4288" class="Symbol">(</a><a id="4289" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4293" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4297" class="Symbol">)</a>    <a id="4302" class="Symbol">{_}</a>      <a id="4311" class="Symbol">{_}</a>       <a id="4321" class="Symbol">=</a> <a id="4323" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="4328" href="Data.Nat.Logarithm.Core.html#4098" class="Function">⌈log2⌉⌈n/2⌉≡⌈log2⌉n∸1</a> <a id="4350" class="Symbol">(</a><a id="4351" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4355" class="Symbol">(</a><a id="4356" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4360" href="Data.Nat.Logarithm.Core.html#4360" class="Bound">n</a><a id="4361" class="Symbol">))</a> <a id="4364" class="Symbol">{</a><a id="4365" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4369" href="Data.Nat.Logarithm.Core.html#4369" class="Bound">rs</a><a id="4371" class="Symbol">}</a> <a id="4373" class="Symbol">{</a><a id="4374" href="Induction.WellFounded.html#1071" class="InductiveConstructor">acc</a> <a id="4378" href="Data.Nat.Logarithm.Core.html#4378" class="Bound">rs&#39;</a><a id="4381" class="Symbol">}</a> <a id="4383" class="Symbol">=</a>
  <a id="4387" href="Data.Nat.Logarithm.Core.html#3330" class="Function">⌈log2⌉-acc-irrelevant</a> <a id="4409" class="Symbol">(</a><a id="4410" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4414" href="Data.Nat.Base.html#4362" class="Function Operator">⌊</a> <a id="4416" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4420" href="Data.Nat.Logarithm.Core.html#4360" class="Bound">n</a> <a id="4422" href="Data.Nat.Base.html#4362" class="Function Operator">/2⌋</a><a id="4425" class="Symbol">)</a>

<a id="⌈log2⌉2*n≡1+⌈log2⌉n"></a><a id="4428" href="Data.Nat.Logarithm.Core.html#4428" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="4448" class="Symbol">:</a> <a id="4450" class="Symbol">∀</a> <a id="4452" href="Data.Nat.Logarithm.Core.html#4452" class="Bound">n</a> <a id="4454" class="Symbol">{</a><a id="4455" href="Data.Nat.Logarithm.Core.html#4455" class="Bound">acc</a> <a id="4459" href="Data.Nat.Logarithm.Core.html#4459" class="Bound">acc&#39;</a><a id="4463" class="Symbol">}</a> <a id="4465" class="Symbol">.{{</a><a id="4468" href="Data.Nat.Logarithm.Core.html#4468" class="Bound">_</a> <a id="4470" class="Symbol">:</a> <a id="4472" href="Data.Nat.Base.html#2570" class="Record">NonZero</a> <a id="4480" href="Data.Nat.Logarithm.Core.html#4452" class="Bound">n</a><a id="4481" class="Symbol">}}</a> <a id="4484" class="Symbol">→</a>
                      <a id="4508" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4515" class="Symbol">(</a><a id="4516" class="Number">2</a> <a id="4518" href="Agda.Builtin.Nat.html#522" class="Primitive Operator">*</a> <a id="4520" href="Data.Nat.Logarithm.Core.html#4452" class="Bound">n</a><a id="4521" class="Symbol">)</a> <a id="4523" href="Data.Nat.Logarithm.Core.html#4455" class="Bound">acc</a> <a id="4527" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="4529" class="Number">1</a> <a id="4531" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4533" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4540" href="Data.Nat.Logarithm.Core.html#4452" class="Bound">n</a> <a id="4542" href="Data.Nat.Logarithm.Core.html#4459" class="Bound">acc&#39;</a>
<a id="4547" href="Data.Nat.Logarithm.Core.html#4428" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="4567" class="Symbol">(</a><a id="4568" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4572" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="4573" class="Symbol">)</a> <a id="4575" class="Symbol">=</a> <a id="4577" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="4585" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4592" class="Symbol">(</a><a id="4593" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4597" class="Symbol">(</a><a id="4598" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4600" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4602" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4606" class="Symbol">(</a><a id="4607" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4609" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4611" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4615" class="Symbol">)))</a> <a id="4619" class="Symbol">_</a>              <a id="4634" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4637" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="4653" class="Symbol">(</a><a id="4654" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4659" class="Symbol">(λ</a> <a id="4662" href="Data.Nat.Logarithm.Core.html#4662" class="Bound">x</a> <a id="4664" class="Symbol">→</a> <a id="4666" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4670" class="Symbol">(</a><a id="4671" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4673" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4675" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4679" href="Data.Nat.Logarithm.Core.html#4662" class="Bound">x</a><a id="4680" class="Symbol">))</a> <a id="4683" class="Symbol">(</a><a id="4684" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="4691" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4693" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="4697" class="Symbol">))</a> <a id="4700" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4704" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4711" class="Symbol">(</a><a id="4712" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4716" class="Symbol">(</a><a id="4717" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4719" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4721" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4725" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="4726" class="Symbol">))</a> <a id="4729" class="Symbol">(</a><a id="4730" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4744" class="Symbol">_)</a>       <a id="4753" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4756" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="4772" class="Symbol">{</a><a id="4773" class="Argument">acc&#39;</a> <a id="4778" class="Symbol">=</a> <a id="4780" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4794" class="Symbol">_}</a> <a id="4797" class="Symbol">(</a><a id="4798" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4803" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4807" class="Symbol">(</a><a id="4808" href="Data.Nat.Properties.html#14786" class="Function">+-comm</a> <a id="4815" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4817" class="Symbol">(</a><a id="4818" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4822" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="4823" class="Symbol">)))</a> <a id="4827" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4831" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4838" class="Symbol">(</a><a id="4839" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4843" class="Symbol">(</a><a id="4844" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4848" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4850" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4852" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="4853" class="Symbol">))</a> <a id="4856" class="Symbol">(</a><a id="4857" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4871" class="Symbol">_)</a>       <a id="4880" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4883" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4888" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4892" class="Symbol">(</a><a id="4893" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="4909" class="Symbol">{</a><a id="4910" class="Argument">m</a> <a id="4912" class="Symbol">=</a> <a id="4914" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4918" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4920" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4922" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4924" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4926" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="4929" class="Symbol">}</a> <a id="4931" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a><a id="4935" class="Symbol">)</a> <a id="4937" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="4941" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4945" class="Symbol">(</a><a id="4946" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="4953" class="Symbol">(</a><a id="4954" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="4958" href="Data.Nat.Base.html#4489" class="Function Operator">⌈</a> <a id="4960" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4962" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="4964" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a> <a id="4966" href="Data.Nat.Base.html#4489" class="Function Operator">/2⌉</a><a id="4969" class="Symbol">)</a> <a id="4971" class="Symbol">(</a><a id="4972" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="4986" class="Symbol">_))</a> <a id="4990" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="4993" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="4998" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5002" class="Symbol">(</a><a id="5003" href="Data.Nat.Logarithm.Core.html#3635" class="Function">⌈log2⌉-cong-irr</a> <a id="5019" class="Symbol">(</a><a id="5020" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="5025" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5029" class="Symbol">(</a><a id="5030" href="Relation.Binary.PropositionalEquality.Core.html#1707" class="Function">sym</a> <a id="5034" class="Symbol">(</a><a id="5035" href="Data.Nat.Properties.html#60578" class="Function">n≡⌈n+n/2⌉</a> <a id="5045" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="5046" class="Symbol">))))</a> <a id="5051" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5055" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5059" class="Symbol">(</a><a id="5060" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5067" class="Symbol">(</a><a id="5068" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5072" href="Data.Nat.Logarithm.Core.html#4572" class="Bound">n</a><a id="5073" class="Symbol">)</a> <a id="5075" class="Symbol">_)</a>                           <a id="5104" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="5108" class="Keyword">where</a> <a id="5114" class="Keyword">open</a> <a id="5119" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>

<a id="⌈log2⌉2^n≡n"></a><a id="5132" href="Data.Nat.Logarithm.Core.html#5132" class="Function">⌈log2⌉2^n≡n</a> <a id="5144" class="Symbol">:</a> <a id="5146" class="Symbol">∀</a> <a id="5148" href="Data.Nat.Logarithm.Core.html#5148" class="Bound">n</a> <a id="5150" class="Symbol">{</a><a id="5151" href="Data.Nat.Logarithm.Core.html#5151" class="Bound">acc</a><a id="5154" class="Symbol">}</a> <a id="5156" class="Symbol">→</a> <a id="5158" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5165" class="Symbol">(</a><a id="5166" class="Number">2</a> <a id="5168" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5170" href="Data.Nat.Logarithm.Core.html#5148" class="Bound">n</a><a id="5171" class="Symbol">)</a> <a id="5173" href="Data.Nat.Logarithm.Core.html#5151" class="Bound">acc</a> <a id="5177" href="Agda.Builtin.Equality.html#133" class="Datatype Operator">≡</a> <a id="5179" href="Data.Nat.Logarithm.Core.html#5148" class="Bound">n</a>
<a id="5181" href="Data.Nat.Logarithm.Core.html#5132" class="Function">⌈log2⌉2^n≡n</a> <a id="5193" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a>    <a id="5201" class="Symbol">=</a> <a id="5203" href="Agda.Builtin.Equality.html#190" class="InductiveConstructor">refl</a>
<a id="5208" href="Data.Nat.Logarithm.Core.html#5132" class="Function">⌈log2⌉2^n≡n</a> <a id="5220" class="Symbol">(</a><a id="5221" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5225" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5226" class="Symbol">)</a> <a id="5228" class="Symbol">=</a> <a id="5230" href="Relation.Binary.PropositionalEquality.Core.html#2829" class="Function Operator">begin</a>
  <a id="5238" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5245" class="Symbol">((</a><a id="5247" class="Number">2</a> <a id="5249" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5251" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5252" class="Symbol">)</a> <a id="5254" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5256" class="Symbol">((</a><a id="5258" class="Number">2</a> <a id="5260" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5262" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5263" class="Symbol">)</a> <a id="5265" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5267" href="Agda.Builtin.Nat.html#204" class="InductiveConstructor">zero</a><a id="5271" class="Symbol">))</a> <a id="5274" class="Symbol">_</a> <a id="5276" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="5279" href="Data.Nat.Logarithm.Core.html#4428" class="Function">⌈log2⌉2*n≡1+⌈log2⌉n</a> <a id="5299" class="Symbol">(</a><a id="5300" class="Number">2</a> <a id="5302" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5304" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5305" class="Symbol">)</a> <a id="5307" class="Symbol">{{</a><a id="5309" href="Data.Nat.Properties.html#30085" class="Function">m^n≢0</a> <a id="5315" class="Number">2</a> <a id="5317" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5318" class="Symbol">}}</a> <a id="5321" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5325" class="Number">1</a> <a id="5327" href="Agda.Builtin.Nat.html#319" class="Primitive Operator">+</a> <a id="5329" href="Data.Nat.Logarithm.Core.html#851" class="Function">⌈log2⌉</a> <a id="5336" class="Symbol">(</a><a id="5337" class="Number">2</a> <a id="5339" href="Data.Nat.Base.html#4551" class="Function Operator">^</a> <a id="5341" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5342" class="Symbol">)</a> <a id="5344" class="Symbol">(</a><a id="5345" href="Data.Nat.Induction.html#2200" class="Function">&lt;-wellFounded</a> <a id="5359" class="Symbol">_)</a>  <a id="5363" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">≡⟨</a> <a id="5366" href="Relation.Binary.PropositionalEquality.Core.html#1153" class="Function">cong</a> <a id="5371" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5375" class="Symbol">(</a><a id="5376" href="Data.Nat.Logarithm.Core.html#5132" class="Function">⌈log2⌉2^n≡n</a> <a id="5388" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a><a id="5389" class="Symbol">)</a> <a id="5391" href="Relation.Binary.PropositionalEquality.Core.html#2946" class="Function">⟩</a>
  <a id="5395" href="Agda.Builtin.Nat.html#217" class="InductiveConstructor">suc</a> <a id="5399" href="Data.Nat.Logarithm.Core.html#5225" class="Bound">n</a>                                 <a id="5433" href="Relation.Binary.PropositionalEquality.Core.html#3128" class="Function Operator">∎</a>
  <a id="5437" class="Keyword">where</a> <a id="5443" class="Keyword">open</a> <a id="5448" href="Relation.Binary.PropositionalEquality.Core.html#2731" class="Module">≡-Reasoning</a>
</pre></body></html>